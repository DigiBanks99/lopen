[
  {
    "id": "JOB-001",
    "requirement_code": "CLI-26",
    "requirement_module": "cli",
    "description": "Implement project root discovery in Program.cs \u2014 walk up from CWD to find nearest .lopen/ or .git/, pass to AddLopenCore(projectRoot) and AddLopenStorage(projectRoot) so all path-dependent services register",
    "status": "done",
    "priority": 1,
    "notes": "CRITICAL: Without projectRoot, ~90% of Core and Storage services never register. Commands gracefully return 'Workflow engine not available' but nothing actually works. Implemented ProjectRootDiscovery in src/Lopen/ProjectRootDiscovery.cs, wired into Program.cs. 9 tests in ProjectRootDiscoveryTests."
  },
  {
    "id": "JOB-002",
    "requirement_code": "CORE-25",
    "requirement_module": "core",
    "description": "Register Lopen-managed tools with Copilot SDK session \u2014 convert LopenToolDefinition instances (with bound Handler delegates) to SDK-native tool registrations in CopilotLlmService before calling SendAndWaitAsync",
    "status": "done",
    "priority": 1,
    "notes": "Implemented ToolConversion bridge class converting LopenToolDefinition to AIFunction via AIFunctionFactory.Create. Wired into CopilotLlmService SessionConfig.Tools. 11 unit tests in ToolConversionTests. All 2099 tests pass."
  },
  {
    "id": "JOB-003",
    "requirement_code": "TUI-52",
    "requirement_module": "tui",
    "description": "Bridge TUI to WorkflowOrchestrator \u2014 TuiApplication.RunAsync must launch orchestrator on a background thread and display workflow progress in real time",
    "status": "done",
    "priority": 1,
    "notes": "TuiApplication now accepts IWorkflowOrchestrator? and launches it on a background thread via Task.Run. TryLaunchOrchestrator/CheckOrchestratorCompletion called each frame. 11 tests in TuiOrchestratorBridgeTests."
  },
  {
    "id": "JOB-004",
    "requirement_code": "TUI-50",
    "requirement_module": "tui",
    "description": "Implement TuiOutputRenderer (IOutputRenderer) that bridges orchestrator output events to the TUI activity panel, replacing HeadlessRenderer when TUI mode is active",
    "status": "done",
    "priority": 1,
    "notes": "Implemented TuiOutputRenderer in Lopen.Tui. Bridges RenderProgress\u2192PhaseTransition, RenderError\u2192TaskFailure, RenderResult\u2192Action, Prompt\u2192UserPromptQueue. AddTuiOutputRenderer DI registration replaces HeadlessRenderer. 16 tests pass."
  },
  {
    "id": "JOB-005",
    "requirement_code": "TUI-51",
    "requirement_module": "tui",
    "description": "Register all TUI data providers in DI \u2014 IContextPanelDataProvider, IActivityPanelDataProvider, IUserPromptQueue, ISessionDetector \u2014 wired to live orchestrator/session data",
    "status": "done",
    "priority": 2,
    "notes": "Registered all TUI data providers in Program.cs: AddContextPanelDataProvider, AddActivityPanelDataProvider, AddUserPromptQueue, AddSessionDetector, AddTuiOutputRenderer. 4 new tests in ServiceCollectionExtensionsTests."
  },
  {
    "id": "JOB-006",
    "requirement_code": "TUI-50",
    "requirement_module": "tui",
    "description": "Add tests for TuiOutputRenderer verifying orchestrator events are translated to activity panel entries",
    "status": "done",
    "priority": 2,
    "notes": "Covered by 16 tests in TuiOutputRendererTests: constructor guards, progress/error/result rendering, prompt queue integration, cancellation, failure tracking."
  },
  {
    "id": "JOB-007",
    "requirement_code": "TUI-52",
    "requirement_module": "tui",
    "description": "Add tests for TUI-orchestrator bridge verifying workflow launches on background thread, progress updates render, and cancellation is handled",
    "status": "done",
    "priority": 2,
    "notes": "Covered by 11 tests in TuiOrchestratorBridgeTests: background launch, prompt/module passing, completion/failure/interruption handling, landing page blocking."
  },
  {
    "id": "JOB-008",
    "requirement_code": "CLI-26",
    "requirement_module": "cli",
    "description": "Add tests for project root discovery \u2014 verifies walk-up finds .lopen/ or .git/, falls back to CWD, and passes to DI correctly",
    "status": "done",
    "priority": 2,
    "notes": "Added 4 new tests: LopenCloserToRootThanGit, DeepNesting, LopenFileNotDir_IsIgnored, NullProjectRoot_DIProvidesGracefulDegradation. Total 13 tests covering all scenarios."
  },
  {
    "id": "JOB-009",
    "requirement_code": "CORE-25",
    "requirement_module": "core",
    "description": "Add tests for SDK tool registration \u2014 verify LopenToolDefinition instances are correctly converted to SDK tool registrations and handlers are invoked during session",
    "status": "done",
    "priority": 2,
    "notes": "Covered by 11 tests in ToolConversionTests: null guard, empty list, null-handler filtering, name/description mapping, handler invocation, multiple tools, order preservation, AIFunction type checking, cancellation token forwarding."
  },
  {
    "id": "JOB-010",
    "requirement_code": "LLM-11",
    "requirement_module": "llm",
    "description": "Implement runtime model fallback \u2014 when SDK returns model-unavailable error, catch it and retry with next configured model from fallback chain",
    "status": "done",
    "priority": 3,
    "notes": "RetryingLlmService decorator catches model-unavailable errors and retries with fallback chain. LlmException.IsModelUnavailable + heuristic detection. Per-phase fallback config in ModelOptions."
  },
  {
    "id": "JOB-011",
    "requirement_code": "LLM-11",
    "requirement_module": "llm",
    "description": "Add tests for runtime model fallback \u2014 verify SDK error triggers retry with fallback model, warning logged, and failure when all models exhausted",
    "status": "done",
    "priority": 3,
    "notes": "19 tests in RetryingLlmServiceTests covering success, fallback, all-fail, dedup, non-model errors, cancellation, chain building, and detection heuristics."
  },
  {
    "id": "JOB-012",
    "requirement_code": "LLM-07",
    "requirement_module": "llm",
    "description": "Evaluate if oracle verification can run within the same SDK invocation as a tool call rather than a separate ILlmService.InvokeAsync \u2014 if SDK supports nested tool-driven sub-agent dispatch, refactor OracleVerifier to use it",
    "status": "done",
    "priority": 4,
    "notes": "Research concluded: oracle runs via tool handler within SDK session, using standard-tier model (gpt-5-mini). No premium request consumed. Two-session approach is architecturally correct. No code changes needed."
  },
  {
    "id": "JOB-013",
    "requirement_code": "LLM-13",
    "requirement_module": "llm",
    "description": "Verify token metrics are persisted to session state files \u2014 ensure InMemoryTokenTracker data is saved via AutoSaveService and loadable on session resume",
    "status": "done",
    "priority": 3,
    "notes": "Added RestoreMetrics to ITokenTracker/InMemoryTokenTracker. Orchestrator resume path loads saved metrics and calls RestoreMetrics so usage accumulates on top."
  },
  {
    "id": "JOB-014",
    "requirement_code": "LLM-13",
    "requirement_module": "llm",
    "description": "Add round-trip persistence test for token metrics \u2014 verify metrics survive save-to-disk and reload",
    "status": "done",
    "priority": 3,
    "notes": "4 new tests: RestoreMetrics_SetsCumulativeValues, RestoreMetrics_ThenRecord_AccumulatesOnTop, RoundTrip_SaveRestore_ValuesMonotonicallyIncrease, RestoreMetrics_ThenReset_ClearsEverything."
  },
  {
    "id": "JOB-015",
    "requirement_code": "CLI-27",
    "requirement_module": "cli",
    "description": "Add --no-welcome CLI flag to suppress TUI landing page modal on startup, wire to TuiApplication showLandingPage parameter",
    "status": "done",
    "priority": 4,
    "notes": "--no-welcome option added to GlobalOptions, wired in RootCommandHandler via SuppressLandingPage() on ITuiApplication."
  },
  {
    "id": "JOB-016",
    "requirement_code": "CLI-27",
    "requirement_module": "cli",
    "description": "Add tests for --no-welcome flag \u2014 verify flag is parsed and suppresses landing page",
    "status": "done",
    "priority": 4,
    "notes": "3 new tests: NoWelcome_SuppressesLandingPage, WithoutNoWelcome_DoesNotSuppressLandingPage, NoWelcomeWithPrompt_BothApplied."
  },
  {
    "id": "JOB-017",
    "requirement_code": "TUI-35",
    "requirement_module": "tui",
    "description": "Implement syntax highlighting for code blocks in TUI \u2014 add a lightweight syntax highlighter (keyword/string/comment coloring) for common languages in code block rendering",
    "status": "open",
    "priority": 5,
    "notes": "Currently only diff +/- coloring exists. No code block parsing or language-aware highlighting."
  },
  {
    "id": "JOB-018",
    "requirement_code": "TUI-35",
    "requirement_module": "tui",
    "description": "Add tests for syntax highlighting \u2014 verify common language tokens are colored correctly and NO_COLOR is respected",
    "status": "open",
    "priority": 5,
    "notes": "Depends on JOB-017."
  },
  {
    "id": "JOB-019",
    "requirement_code": "TUI-45",
    "requirement_module": "tui",
    "description": "Make gallery component previews interactive \u2014 support keyboard input during preview mode (expand/collapse, scroll, shortcuts) rather than render-only display",
    "status": "open",
    "priority": 5,
    "notes": "Gallery preview currently renders static output and waits for 'any key'. Need input handling in preview."
  },
  {
    "id": "JOB-020",
    "requirement_code": "TUI-45",
    "requirement_module": "tui",
    "description": "Add tests for interactive gallery previews \u2014 verify keyboard input works during component preview",
    "status": "open",
    "priority": 5,
    "notes": "Depends on JOB-019."
  },
  {
    "id": "JOB-021",
    "requirement_code": "TUI-15",
    "requirement_module": "tui",
    "description": "Enhance DiffViewerComponent with language-aware syntax highlighting (beyond diff +/- coloring) \u2014 reuse syntax highlighter from TUI-35",
    "status": "open",
    "priority": 5,
    "notes": "DiffViewer has line numbers and diff color coding but no language syntax highlighting of code content. Depends on JOB-017."
  },
  {
    "id": "JOB-022",
    "requirement_code": "STOR-14",
    "requirement_module": "storage",
    "description": "Add tests for corrupted session detection and quarantine \u2014 verify corrupt JSON state files are detected, warned, quarantined to .lopen/corrupted/, and excluded from resume options",
    "status": "done",
    "priority": 4,
    "notes": "5 new tests: truncated JSON, binary garbage, empty file, corrupt metrics, detect-quarantine flow."
  },
  {
    "id": "JOB-023",
    "requirement_code": "STOR-16",
    "requirement_module": "storage",
    "description": "Add tests for disk-full / write-failure behavior \u2014 verify that write failures trigger critical system error and pause workflow",
    "status": "done",
    "priority": 4,
    "notes": "2 new tests: CreateSession under disk-full, SaveState IO error inner exception verification."
  },
  {
    "id": "JOB-024",
    "requirement_code": "CLI-22",
    "requirement_module": "cli",
    "description": "Expand ProgramTests.cs with real integration tests \u2014 verify DI container resolves key services, all commands parse correctly, and basic command execution succeeds",
    "status": "done",
    "priority": 3,
    "notes": "Expanded ProgramTests.cs from 1 trivial test to 19 real integration tests: DI resolution (LLM, Core, Storage, Auth), command creation (all 8 commands), full command tree verification, help invocations."
  },
  {
    "id": "JOB-025",
    "requirement_code": "TUI-06",
    "requirement_module": "tui",
    "description": "Wire TUI-06 landing page skip to CLI-27 --no-welcome flag end-to-end \u2014 verify the full path from CLI flag \u2192 GlobalOptions \u2192 TuiApplication constructor \u2192 showLandingPage field",
    "status": "done",
    "priority": 4,
    "notes": "Already wired in JOB-015: --no-welcome \u2192 GlobalOptions \u2192 RootCommandHandler \u2192 ITuiApplication.SuppressLandingPage() \u2192 _showLandingPage=false. Tests in RootCommandTests."
  },
  {
    "id": "JOB-026",
    "requirement_code": "TUI-49",
    "requirement_module": "tui",
    "description": "Add automated verification that all gallery components render without errors \u2014 a test that iterates all registered IPreviewableComponent implementations and calls RenderPreview on each state",
    "status": "open",
    "priority": 5,
    "notes": "Gallery exists and components are registered, but no automated test verifies all render successfully."
  },
  {
    "id": "JOB-027",
    "requirement_code": "TUI-51",
    "requirement_module": "tui",
    "description": "Add tests for TUI data provider wiring \u2014 verify live data providers return real orchestrator/session data when registered",
    "status": "done",
    "priority": 3,
    "notes": "5 new tests verifying live data providers: ActivityPanel add/retrieve, UserPromptQueue enqueue/dequeue, SessionDetector null return, ContextPanel registration, TuiOutputRenderer \u2192 ActivityPanel integration."
  },
  {
    "id": "JOB-028",
    "requirement_code": "CORE-02",
    "requirement_module": "core",
    "description": "Add end-to-end integration test that runs the full workflow: assess \u2192 guardrails \u2192 LLM invoke \u2192 tool execution \u2192 transition \u2192 save, using test doubles for SDK",
    "status": "open",
    "priority": 3,
    "notes": "WorkflowOrchestratorTests has 3 E2E tests but they don't cover the complete happy-path loop with tool calls."
  },
  {
    "id": "JOB-029",
    "requirement_code": "CLI-01",
    "requirement_module": "cli",
    "description": "Add integration test for TUI mode launch \u2014 verify 'lopen' root command with projectRoot correctly resolves TuiApplication and can start (with StubTui in tests)",
    "status": "open",
    "priority": 3,
    "notes": "Root command TUI path not tested with real DI wiring."
  },
  {
    "id": "JOB-030",
    "requirement_code": "CLI-02",
    "requirement_module": "cli",
    "description": "Add integration test for headless mode \u2014 verify 'lopen --headless --prompt text' with projectRoot resolves orchestrator and invokes RunAsync",
    "status": "open",
    "priority": 3,
    "notes": "Headless mode will fail at runtime due to JOB-001 (no projectRoot). After JOB-001, this test becomes possible."
  },
  {
    "id": "JOB-031",
    "requirement_code": "STOR-07",
    "requirement_module": "storage",
    "description": "Add test for session resume flow \u2014 verify 'resume or fresh' dialog offered when latest session exists, and selected session loads correctly",
    "status": "open",
    "priority": 4,
    "notes": "Session resume logic exists but end-to-end flow test with dialog is thin."
  },
  {
    "id": "JOB-032",
    "requirement_code": "STOR-20",
    "requirement_module": "storage",
    "description": "Add StoragePaths constants and helper methods for research document paths at docs/requirements/{module}/RESEARCH-{topic}.md",
    "status": "open",
    "priority": 5,
    "notes": "Research documents are written by the tool handler but StoragePaths has no research-related path constants or discovery methods."
  },
  {
    "id": "JOB-033",
    "requirement_code": "STOR-20",
    "requirement_module": "storage",
    "description": "Add tests for research document storage paths \u2014 verify path generation and research doc discovery for a module",
    "status": "open",
    "priority": 5,
    "notes": "Depends on JOB-032."
  },
  {
    "id": "JOB-034",
    "requirement_code": "OTEL-13",
    "requirement_module": "otel",
    "description": "Add Aspire AppHost project or aspire-manifest.json for 'aspire run' support \u2014 verify Aspire Dashboard launches with Lopen pre-configured for OTLP export",
    "status": "open",
    "priority": 5,
    "notes": "OTEL module supports OTLP export but no Aspire AppHost or manifest exists for 'aspire run' workflow."
  },
  {
    "id": "JOB-035",
    "requirement_code": "OTEL-17",
    "requirement_module": "otel",
    "description": "Add performance benchmark test verifying OTEL instrumentation adds < 5ms overhead to CLI execution time",
    "status": "open",
    "priority": 5,
    "notes": "Spec requires < 5ms overhead but no benchmark test exists to verify this."
  },
  {
    "id": "JOB-036",
    "requirement_code": "AUTH-01",
    "requirement_module": "auth",
    "description": "Remove StubAuthService.cs dead code \u2014 CopilotAuthService is the production service and StubAuthService is never wired in DI",
    "status": "open",
    "priority": 6,
    "notes": "Dead code cleanup. StubAuthService is superseded by CopilotAuthService + GhCliAdapter."
  },
  {
    "id": "JOB-037",
    "requirement_code": "LLM-01",
    "requirement_module": "llm",
    "description": "Remove StubLlmService.cs dead code \u2014 CopilotLlmService is the production service and StubLlmService is never wired in DI",
    "status": "open",
    "priority": 6,
    "notes": "Dead code cleanup. StubLlmService is superseded by CopilotLlmService."
  },
  {
    "id": "JOB-038",
    "requirement_code": "CORE-04",
    "requirement_module": "core",
    "description": "Add integration test for specification drift detection end-to-end \u2014 modify a spec section, run drift detection, verify drift flagged correctly",
    "status": "open",
    "priority": 4,
    "notes": "Unit tests exist for DriftDetector and SpecificationDriftService but no integration test modifies a real file and detects drift."
  },
  {
    "id": "JOB-039",
    "requirement_code": "CORE-16",
    "requirement_module": "core",
    "description": "Add integration test for git auto-commit after task completion \u2014 verify commit is created with conventional commit message when GitOptions.AutoCommit is true",
    "status": "open",
    "priority": 4,
    "notes": "GitWorkflowIntegrationTests exist but testing auto-commit triggered by task completion through orchestrator is thin."
  },
  {
    "id": "JOB-040",
    "requirement_code": "CORE-17",
    "requirement_module": "core",
    "description": "Add integration test for branch-per-module \u2014 verify 'lopen/<module>' branch created and switched to when module workflow starts",
    "status": "open",
    "priority": 4,
    "notes": "GitWorkflowService has the logic but integration test verifying branch creation through orchestrator flow is thin."
  },
  {
    "id": "JOB-041",
    "requirement_code": "CORE-18",
    "requirement_module": "core",
    "description": "Add integration test for lopen revert \u2014 verify git reset to last task-completion commit and session state update",
    "status": "open",
    "priority": 4,
    "notes": "RevertService tests exist but end-to-end revert through CLI command with session state update needs validation."
  },
  {
    "id": "JOB-042",
    "requirement_code": "CFG-05",
    "requirement_module": "configuration",
    "description": "Add integration test for 'lopen config show' \u2014 verify output includes all settings with correct sources (CLI flag, project config, global config, default)",
    "status": "open",
    "priority": 5,
    "notes": "ConfigurationDiagnostics has tests but end-to-end through CLI command needs validation."
  },
  {
    "id": "JOB-043",
    "requirement_code": "CFG-15",
    "requirement_module": "configuration",
    "description": "Add test for invalid config file handling \u2014 verify malformed JSON in config files produces clear error with guidance",
    "status": "open",
    "priority": 5,
    "notes": "LopenOptionsValidator tests validation logic but not malformed JSON file loading errors."
  },
  {
    "id": "JOB-044",
    "requirement_code": "CLI-20",
    "requirement_module": "cli",
    "description": "Add integration test verifying exit code 2 (UserInterventionRequired) is returned when workflow pauses for user action",
    "status": "open",
    "priority": 4,
    "notes": "Exit codes 0 and 1 are well-tested. Code 2 for user intervention needs explicit test."
  },
  {
    "id": "JOB-045",
    "requirement_code": "CORE-11",
    "requirement_module": "core",
    "description": "Add integration test for back-pressure Category 1 \u2014 verify premium request budget warning at threshold and block at limit, integrated through orchestrator loop",
    "status": "open",
    "priority": 4,
    "notes": "ResourceLimitGuardrail has unit tests but integration through the full orchestrator loop is thin."
  },
  {
    "id": "JOB-046",
    "requirement_code": "CORE-12",
    "requirement_module": "core",
    "description": "Add integration test for back-pressure Category 2 \u2014 verify churn detection escalates after repeated task failures through orchestrator",
    "status": "open",
    "priority": 4,
    "notes": "ChurnDetectionGuardrail has unit tests but integration through orchestrator is thin."
  },
  {
    "id": "JOB-047",
    "requirement_code": "CORE-15",
    "requirement_module": "core",
    "description": "Add integration test for back-pressure Category 4 \u2014 verify tool discipline corrective instructions injected on wasteful patterns through orchestrator",
    "status": "open",
    "priority": 4,
    "notes": "ToolDisciplineGuardrail has unit tests but integration through orchestrator prompt building is thin."
  },
  {
    "id": "JOB-048",
    "requirement_code": "LLM-02",
    "requirement_module": "llm",
    "description": "Add test verifying each SDK invocation creates a fresh context window with no history from previous invocations",
    "status": "open",
    "priority": 4,
    "notes": "CopilotLlmService creates fresh sessions per call. Need explicit test proving no state leaks between invocations."
  },
  {
    "id": "JOB-049",
    "requirement_code": "LLM-03",
    "requirement_module": "llm",
    "description": "Add test verifying system prompt structure includes all 6 sections: role/identity, workflow state, step instructions, context, tools, constraints",
    "status": "open",
    "priority": 4,
    "notes": "DefaultPromptBuilder has tests but need explicit test for all 6 required sections present."
  },
  {
    "id": "JOB-050",
    "requirement_code": "LLM-09",
    "requirement_module": "llm",
    "description": "Add test verifying tool availability varies by workflow step \u2014 e.g. log_research only in research phases, update_task_status only in building",
    "status": "open",
    "priority": 4,
    "notes": "DefaultToolRegistry filters by phase. Need explicit test for each phase showing correct tool subset."
  },
  {
    "id": "JOB-051",
    "requirement_code": "TUI-38",
    "requirement_module": "tui",
    "description": "Add integration test for slash commands \u2014 verify each of /help, /spec, /plan, /build, /session, /config, /revert, /auth invokes the correct CLI command handler",
    "status": "open",
    "priority": 5,
    "notes": "SlashCommandRegistry and SlashCommandExecutor have unit tests. Integration with actual command handlers needs validation."
  },
  {
    "id": "JOB-052",
    "requirement_code": "TUI-39",
    "requirement_module": "tui",
    "description": "Add test for unknown slash command error \u2014 verify invalid slash command displays error with list of valid commands",
    "status": "open",
    "priority": 5,
    "notes": "Simple test for error handling path in SlashCommandExecutor."
  },
  {
    "id": "JOB-053",
    "requirement_code": "TUI-41",
    "requirement_module": "tui",
    "description": "Add test for Ctrl+P pause/resume \u2014 verify Ctrl+P toggles pause state and TUI hint text updates accordingly",
    "status": "open",
    "priority": 5,
    "notes": "PauseController and KeyboardHandler have individual tests but end-to-end Ctrl+P flow needs validation."
  },
  {
    "id": "JOB-054",
    "requirement_code": "AUTH-10",
    "requirement_module": "auth",
    "description": "Add integration test for pre-flight auth check \u2014 verify workflow start is blocked when credentials are missing/invalid, with clear error message",
    "status": "open",
    "priority": 4,
    "notes": "ValidateAsync exists and throws. Integration through orchestrator startup needs validation."
  },
  {
    "id": "JOB-055",
    "requirement_code": "AUTH-11",
    "requirement_module": "auth",
    "description": "Add integration test for automatic token renewal \u2014 verify expired token triggers SDK retry and renewal is transparent",
    "status": "open",
    "priority": 5,
    "notes": "AuthErrorHandler tests exist. Integration with actual SDK error flow needs validation."
  },
  {
    "id": "JOB-056",
    "requirement_code": "CORE-05",
    "requirement_module": "core",
    "description": "Add integration test for human gate at spec\u2192plan transition \u2014 verify workflow pauses for user confirmation before proceeding from requirement gathering to planning",
    "status": "open",
    "priority": 4,
    "notes": "PhaseTransitionController has ApproveSpecification() but integration through orchestrator loop needs validation."
  },
  {
    "id": "JOB-057",
    "requirement_code": "CORE-06",
    "requirement_module": "core",
    "description": "Add integration test for auto-transition plan\u2192build \u2014 verify automatic transition when plan is structurally complete (components and tasks exist)",
    "status": "open",
    "priority": 4,
    "notes": "PhaseTransitionController.CanAutoTransitionToBuilding() has tests. Integration through orchestrator needs validation."
  },
  {
    "id": "JOB-058",
    "requirement_code": "CORE-19",
    "requirement_module": "core",
    "description": "Add integration test for document section extraction \u2014 verify SectionExtractor extracts targeted sections (not full documents) for LLM context with correct token estimation",
    "status": "open",
    "priority": 5,
    "notes": "SectionExtractor has unit tests. Integration with ContextBudgetManager and prompt building needs validation."
  },
  {
    "id": "JOB-059",
    "requirement_code": "TUI-07",
    "requirement_module": "tui",
    "description": "Add test for session resume modal display \u2014 verify modal shows when previous active session detected, offers Resume/Start New/View Details",
    "status": "open",
    "priority": 5,
    "notes": "SessionResumeModalComponent exists with tests. Integration with session detection at startup needs validation."
  },
  {
    "id": "JOB-060",
    "requirement_code": "TUI-23",
    "requirement_module": "tui",
    "description": "Add test for confirmation modal options \u2014 verify Yes/No/Always/Other options work correctly and return expected results",
    "status": "open",
    "priority": 5,
    "notes": "ConfirmationModalComponent exists. Need test for all option variants."
  },
  {
    "id": "JOB-061",
    "requirement_code": "TUI-27",
    "requirement_module": "tui",
    "description": "Add test for critical error modal \u2014 verify error details displayed and recovery options (Retry/Skip/Abort) function correctly",
    "status": "open",
    "priority": 5,
    "notes": "ErrorModalComponent exists. Need test for recovery option handling."
  },
  {
    "id": "JOB-062",
    "requirement_code": "STOR-04",
    "requirement_module": "storage",
    "description": "Add test for session ID collision prevention \u2014 verify concurrent session creation for same module on same day generates unique counters",
    "status": "open",
    "priority": 5,
    "notes": "SessionId.Generate exists. Need test for concurrent collision scenario."
  },
  {
    "id": "JOB-063",
    "requirement_code": "STOR-06",
    "requirement_module": "storage",
    "description": "Add integration test for auto-save triggers \u2014 verify state saved after each of the 6 auto-save trigger types (step, task, phase, component, pause, iteration)",
    "status": "open",
    "priority": 5,
    "notes": "AutoSaveService has tests. Integration with orchestrator triggering auto-save needs validation."
  },
  {
    "id": "JOB-064",
    "requirement_code": "STOR-11",
    "requirement_module": "storage",
    "description": "Add test for section cache dual-layer behavior \u2014 verify in-memory cache hit, disk cache hit, and miss scenarios with correct invalidation on file modification",
    "status": "open",
    "priority": 5,
    "notes": "SectionCacheTests exist (19 tests). Need explicit dual-layer verification test."
  },
  {
    "id": "JOB-065",
    "requirement_code": "STOR-17",
    "requirement_module": "storage",
    "description": "Add test for corrupted cache entry handling \u2014 verify corrupt cache entries are silently deleted and regenerated on next access",
    "status": "open",
    "priority": 5,
    "notes": "Implementation catches JsonException and deletes corrupt entries. Need explicit test."
  },
  {
    "id": "JOB-066",
    "requirement_code": "STOR-18",
    "requirement_module": "storage",
    "description": "Add test for session retention limit \u2014 verify PruneSessionsAsync keeps N newest sessions and deletes oldest, respecting configured retention count",
    "status": "open",
    "priority": 5,
    "notes": "4 prune tests exist. Need to verify retention config integration."
  },
  {
    "id": "JOB-067",
    "requirement_code": "CFG-01",
    "requirement_module": "configuration",
    "description": "Add integration test for full 4-layer config resolution \u2014 verify CLI flags > project config > global config > defaults with actual config files",
    "status": "open",
    "priority": 5,
    "notes": "LopenConfigurationBuilderTests has 16 tests but need end-to-end with actual file loading."
  },
  {
    "id": "JOB-068",
    "requirement_code": "CFG-12",
    "requirement_module": "configuration",
    "description": "Add test for budget settings enforcement end-to-end \u2014 verify non-zero budget limits trigger warning/block in orchestrator loop",
    "status": "open",
    "priority": 5,
    "notes": "BudgetEnforcer has tests. Integration with orchestrator budget checking needs validation."
  },
  {
    "id": "JOB-069",
    "requirement_code": "OTEL-11",
    "requirement_module": "otel",
    "description": "Add integration test for OTLP export \u2014 verify all 3 signals (traces, metrics, logs) exported when OTLP endpoint is configured",
    "status": "open",
    "priority": 5,
    "notes": "OtlpExportTests exist. Need validation that all 3 signal types export correctly."
  },
  {
    "id": "JOB-070",
    "requirement_code": "OTEL-12",
    "requirement_module": "otel",
    "description": "Add test for OTEL disabled state \u2014 verify no telemetry exported and no errors when OTLP endpoint is not set",
    "status": "open",
    "priority": 5,
    "notes": "Need explicit test for graceful no-op when OTEL is disabled."
  },
  {
    "id": "JOB-071",
    "requirement_code": "OTEL-14",
    "requirement_module": "otel",
    "description": "Add test for otel.enabled=false \u2014 verify all instrumentation disabled with no overhead when master toggle is off",
    "status": "open",
    "priority": 5,
    "notes": "Master toggle exists. Need test that no ActivitySources or Meters emit when disabled."
  },
  {
    "id": "JOB-072",
    "requirement_code": "OTEL-16",
    "requirement_module": "otel",
    "description": "Add test for OTEL env var precedence \u2014 verify OTEL_* env vars take precedence over Lopen config settings",
    "status": "open",
    "priority": 5,
    "notes": "Standard OTEL env vars should override config. Need explicit precedence test."
  },
  {
    "id": "JOB-073",
    "requirement_code": "CORE-03",
    "requirement_module": "core",
    "description": "Add test for re-entrant assessment with stale session \u2014 verify codebase state (spec existence, checkbox counts) overrides stale persisted state",
    "status": "open",
    "priority": 4,
    "notes": "CodebaseStateAssessor derives state from filesystem. Need test where session says step 3 but filesystem indicates step 5."
  },
  {
    "id": "JOB-074",
    "requirement_code": "CORE-08",
    "requirement_module": "core",
    "description": "Add test for full task hierarchy operations \u2014 verify Module\u2192Component\u2192Task\u2192Subtask tree with state transitions propagating correctly",
    "status": "open",
    "priority": 5,
    "notes": "WorkNode tree tests exist. Need test for state propagation (e.g., all tasks complete \u2192 component auto-completes)."
  },
  {
    "id": "JOB-075",
    "requirement_code": "CORE-10",
    "requirement_module": "core",
    "description": "Add integration test for oracle verification gate \u2014 verify update_task_status('complete') is rejected when no prior verify_task_completion call passed",
    "status": "open",
    "priority": 4,
    "notes": "TaskStatusGate and VerificationTracker have tests. Integration through tool handler flow needs end-to-end validation."
  },
  {
    "id": "JOB-076",
    "requirement_code": "LLM-04",
    "requirement_module": "llm",
    "description": "Add test for section-level extraction in context window \u2014 verify only relevant document sections (not full documents) are included in LLM prompt",
    "status": "open",
    "priority": 5,
    "notes": "ContextBudgetManager.FitToBudget handles truncation. Need explicit test verifying section extraction vs full document."
  },
  {
    "id": "JOB-077",
    "requirement_code": "LLM-14",
    "requirement_module": "llm",
    "description": "Add test for context budget overflow \u2014 verify lower-priority sections are truncated when total context exceeds budget, with truncation suffix",
    "status": "open",
    "priority": 5,
    "notes": "ContextBudgetManager has tests. Need explicit overflow scenario test."
  },
  {
    "id": "JOB-078",
    "requirement_code": "TUI-32",
    "requirement_module": "tui",
    "description": "Add test for semantic color palette \u2014 verify all 6 semantic colors (green/red/yellow/blue/gray/cyan) use terminal theme colors correctly",
    "status": "open",
    "priority": 6,
    "notes": "ColorPalette exists. Need test for semantic color mapping."
  },
  {
    "id": "JOB-079",
    "requirement_code": "TUI-33",
    "requirement_module": "tui",
    "description": "Add test for Unicode/ASCII fallback \u2014 verify all indicators have ASCII fallbacks when UseAscii is set",
    "status": "open",
    "priority": 6,
    "notes": "UnicodeSupport exists. Need test for all fallback characters."
  },
  {
    "id": "JOB-080",
    "requirement_code": "TUI-34",
    "requirement_module": "tui",
    "description": "Add test for box-drawing characters \u2014 verify panel borders use correct box-drawing characters and degrade to ASCII",
    "status": "open",
    "priority": 6,
    "notes": "Box-drawing characters used in rendering. Need test for correct character usage."
  },
  {
    "id": "JOB-081",
    "requirement_code": "CLI-03",
    "requirement_module": "cli",
    "description": "Add test for 'lopen spec' with projectRoot \u2014 verify spec command resolves orchestrator and runs requirement gathering phase successfully",
    "status": "open",
    "priority": 4,
    "notes": "Phase command tests exist but may not test with real DI resolution after JOB-001 projectRoot fix."
  },
  {
    "id": "JOB-082",
    "requirement_code": "CLI-04",
    "requirement_module": "cli",
    "description": "Add test for 'lopen plan' prerequisite \u2014 verify plan command errors with guidance when no spec exists for the module",
    "status": "open",
    "priority": 4,
    "notes": "Phase command tests exist. Need explicit prerequisite validation test."
  },
  {
    "id": "JOB-083",
    "requirement_code": "CLI-05",
    "requirement_module": "cli",
    "description": "Add test for 'lopen build' prerequisite \u2014 verify build command errors when spec or plan missing",
    "status": "open",
    "priority": 4,
    "notes": "Phase command tests exist. Need explicit dual-prerequisite validation test."
  },
  {
    "id": "JOB-084",
    "requirement_code": "CLI-09",
    "requirement_module": "cli",
    "description": "Add test for 'lopen session show --format json' \u2014 verify JSON output contains all session fields",
    "status": "open",
    "priority": 5,
    "notes": "Session show command exists. Need test for JSON format output."
  },
  {
    "id": "JOB-085",
    "requirement_code": "AUTH-04",
    "requirement_module": "auth",
    "description": "Add test for logout env var warning \u2014 verify 'lopen auth logout' warns when GH_TOKEN or GITHUB_TOKEN still set after logout",
    "status": "open",
    "priority": 5,
    "notes": "LogoutAsync checks env vars. Need explicit test for warning message."
  },
  {
    "id": "JOB-086",
    "requirement_code": "AUTH-05",
    "requirement_module": "auth",
    "description": "Add test for headless login error \u2014 verify 'lopen auth login --headless' errors directing user to set GH_TOKEN",
    "status": "open",
    "priority": 5,
    "notes": "LoginAsync checks isInteractive. Need explicit test for headless login error message."
  },
  {
    "id": "JOB-087",
    "requirement_code": "AUTH-08",
    "requirement_module": "auth",
    "description": "Add test for GH_TOKEN precedence \u2014 verify GH_TOKEN takes precedence over GITHUB_TOKEN when both are set",
    "status": "open",
    "priority": 5,
    "notes": "EnvironmentTokenSourceResolver has logic. Need explicit test with both env vars set."
  },
  {
    "id": "JOB-088",
    "requirement_code": "CORE-13",
    "requirement_module": "core",
    "description": "Add test for false completion claim rejection \u2014 verify back-pressure rejects task completion when required tool calls (build, test) were not made",
    "status": "open",
    "priority": 4,
    "notes": "QualityGateGuardrail exists. Need test for false completion detection based on missing tool call evidence."
  },
  {
    "id": "JOB-089",
    "requirement_code": "CORE-14",
    "requirement_module": "core",
    "description": "Add test for acceptance criteria enforcement at module/component boundaries \u2014 verify quality gate blocks transition when criteria not met",
    "status": "open",
    "priority": 4,
    "notes": "QualityGateGuardrail exists. Need test for boundary enforcement."
  },
  {
    "id": "JOB-090",
    "requirement_code": "CORE-20",
    "requirement_module": "core",
    "description": "Add test for programmatic task update \u2014 verify MarkdownUpdater toggles checkboxes without LLM invocation, through tool handler path",
    "status": "open",
    "priority": 5,
    "notes": "MarkdownUpdater has tests. Need integration through tool handler to verify no LLM call."
  },
  {
    "id": "JOB-091",
    "requirement_code": "CORE-21",
    "requirement_module": "core",
    "description": "Add test for single task failure self-correction \u2014 verify failure displayed inline and LLM receives failure context for self-correction on next iteration",
    "status": "open",
    "priority": 4,
    "notes": "FailureHandler classifies failures. Need test for self-correction prompt injection."
  },
  {
    "id": "JOB-092",
    "requirement_code": "CORE-24",
    "requirement_module": "core",
    "description": "Add test for module selection with mixed states \u2014 verify ModuleSelectionService lists modules with NotStarted/InProgress/Complete states correctly",
    "status": "open",
    "priority": 5,
    "notes": "ModuleSelectionService exists. Need test with various module states."
  },
  {
    "id": "JOB-093",
    "requirement_code": "LLM-06",
    "requirement_module": "llm",
    "description": "Add test for oracle sub-agent dispatch \u2014 verify OracleVerifier dispatches cheap model, parses JSON verdict, and returns pass/fail correctly",
    "status": "open",
    "priority": 4,
    "notes": "OracleVerifierTests exist (30 tests). Need integration test with mock LLM returning oracle verdict."
  },
  {
    "id": "JOB-094",
    "requirement_code": "LLM-10",
    "requirement_module": "llm",
    "description": "Add test for per-phase model selection \u2014 verify each workflow phase uses its configured model (e.g., RequirementGathering uses 'model-a', Building uses 'model-b')",
    "status": "open",
    "priority": 5,
    "notes": "DefaultModelSelector maps phases. Need test with distinct per-phase config."
  },
  {
    "id": "JOB-095",
    "requirement_code": "TUI-02",
    "requirement_module": "tui",
    "description": "Add test for top panel data completeness \u2014 verify all fields rendered: logo, version, model, context usage, premium requests, git branch, auth, phase, step",
    "status": "open",
    "priority": 5,
    "notes": "TopPanelComponent has tests. Need explicit verification all 9 fields are present."
  },
  {
    "id": "JOB-096",
    "requirement_code": "TUI-11",
    "requirement_module": "tui",
    "description": "Add test for task tree status indicators \u2014 verify \u2713/\u25b6/\u25cb indicators map correctly to Complete/InProgress/Pending states",
    "status": "open",
    "priority": 5,
    "notes": "ContextPanelComponent renders tree. Need test for indicator mapping."
  },
  {
    "id": "JOB-097",
    "requirement_code": "TUI-17",
    "requirement_module": "tui",
    "description": "Add test for phase/step visualization \u2014 verify \u25cf/\u25cb progress indicator correctly shows completed and remaining steps in top panel",
    "status": "open",
    "priority": 5,
    "notes": "TopPanelComponent renders step indicators. Need test for indicator accuracy."
  },
  {
    "id": "JOB-098",
    "requirement_code": "TUI-28",
    "requirement_module": "tui",
    "description": "Add test for spinner feedback \u2014 verify spinner activates during long-running operations and deactivates on completion",
    "status": "open",
    "priority": 6,
    "notes": "Spinner exists in prompt area. Need test for activation/deactivation lifecycle."
  },
  {
    "id": "JOB-099",
    "requirement_code": "TUI-36",
    "requirement_module": "tui",
    "description": "Add test for consistent panel styling \u2014 verify all panels use same border style, padding, and color scheme",
    "status": "open",
    "priority": 6,
    "notes": "Visual consistency requirement. Need test comparing panel styling across components."
  },
  {
    "id": "JOB-100",
    "requirement_code": "TUI-48",
    "requirement_module": "tui",
    "description": "Add test for gallery multi-state previews \u2014 verify each component exercises empty, populated, error, and loading states in gallery",
    "status": "open",
    "priority": 6,
    "notes": "Components implement GetPreviewStates(). Need test iterating all states for all components."
  }
]
