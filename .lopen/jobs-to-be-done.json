[
  {
    "id": "JOB-001",
    "requirement_code": "CORE-02",
    "requirement_module": "core",
    "description": "Register IWorkflowEngine, IStateAssessor, and IPhaseTransitionController in DI via AddLopenCore()",
    "status": "done",
    "priority": 1,
    "notes": "Registered IWorkflowEngine, IStateAssessor, IPhaseTransitionController in AddLopenCore(). IStateAssessor and IWorkflowEngine conditional on projectRoot. 7 new tests added. All 1456 tests pass."
  },
  {
    "id": "JOB-002",
    "requirement_code": "CORE-02",
    "requirement_module": "core",
    "description": "Implement the main orchestration loop that drives workflow steps from start to completion",
    "status": "done",
    "priority": 1,
    "notes": "Implemented WorkflowOrchestrator with IWorkflowOrchestrator interface. Loop: assess \u2192 guardrails \u2192 LLM invoke \u2192 transition \u2192 render. 21 tests. Registered in DI."
  },
  {
    "id": "JOB-003",
    "requirement_code": "LLM-05",
    "requirement_module": "llm",
    "description": "Implement tool handlers for all 10 registered LLM tools (read_spec, read_research, read_plan, update_task_status, get_current_context, log_research, report_progress, verify_task_completion, verify_component_completion, verify_module_completion)",
    "status": "done",
    "priority": 1,
    "notes": "Added Handler delegate to LopenToolDefinition, BindHandler to IToolRegistry, implemented all 10 tool handlers in ToolHandlerBinder. Enforces oracle verification before task completion (LLM-08). 22 tests."
  },
  {
    "id": "JOB-004",
    "requirement_code": "CLI-03",
    "requirement_module": "cli",
    "description": "Wire 'lopen spec' command to invoke WorkflowEngine for Requirement Gathering phase",
    "status": "done",
    "priority": 1,
    "notes": "Wired to IWorkflowOrchestrator.RunAsync(). Orchestrator invoked when session+module available. Graceful fallback when not. 3 new tests."
  },
  {
    "id": "JOB-005",
    "requirement_code": "CLI-04",
    "requirement_module": "cli",
    "description": "Wire 'lopen plan' command to invoke WorkflowEngine for Planning phase (steps 2-5)",
    "status": "done",
    "priority": 1,
    "notes": "Wired to IWorkflowOrchestrator.RunAsync(). Orchestrator invoked when session+module available. Graceful fallback when not. 3 new tests."
  },
  {
    "id": "JOB-006",
    "requirement_code": "CLI-05",
    "requirement_module": "cli",
    "description": "Wire 'lopen build' command to invoke WorkflowEngine for Building phase (steps 6-7)",
    "status": "done",
    "priority": 1,
    "notes": "Wired to IWorkflowOrchestrator.RunAsync(). Orchestrator invoked when session+module available. Graceful fallback when not. 3 new tests."
  },
  {
    "id": "JOB-007",
    "requirement_code": "CLI-02",
    "requirement_module": "cli",
    "description": "Implement headless workflow runner that executes full workflow autonomously to stdout/stderr",
    "status": "done",
    "priority": 1,
    "notes": "Headless mode now runs RunHeadlessAsync with IWorkflowOrchestrator instead of launching TUI. Writes to stdout/stderr. 2 new tests."
  },
  {
    "id": "JOB-008",
    "requirement_code": "TUI-01",
    "requirement_module": "tui",
    "description": "Create real TUI application shell with terminal I/O loop replacing StubTuiApplication",
    "status": "done",
    "priority": 1,
    "notes": "TuiApplication class created with Spectre.Tui FullscreenMode, 30 FPS render loop, LayoutCalculator regions, KeyboardHandler input, all 4 panels. UseRealTui() extension for DI. 12 new tests."
  },
  {
    "id": "JOB-009",
    "requirement_code": "TUI-01",
    "requirement_module": "tui",
    "description": "Wire TUI application to use LayoutCalculator for split-screen rendering (activity left, context right)",
    "status": "done",
    "priority": 2,
    "notes": "Already implemented in TuiApplication.RenderFrame - calls LayoutCalculator.Calculate() to compute regions for all panels."
  },
  {
    "id": "JOB-010",
    "requirement_code": "TUI-21",
    "requirement_module": "tui",
    "description": "Wire TUI application to use KeyboardHandler for real terminal input handling",
    "status": "done",
    "priority": 2,
    "notes": "Already implemented in TuiApplication.DrainKeyboardInput - uses KeyboardHandler.Handle() and ApplyAction() for all key bindings."
  },
  {
    "id": "JOB-011",
    "requirement_code": "TUI-02",
    "requirement_module": "tui",
    "description": "Connect TopPanelComponent to live data sources (model, context usage, premium requests, git branch, auth, phase)",
    "status": "done",
    "priority": 2,
    "notes": "TopPanelDataProvider wires ITokenTracker, IGitService, IAuthService, IWorkflowEngine, IModelSelector to TopPanelData. TuiApplication refreshes data with 1s throttle. 35 new tests added."
  },
  {
    "id": "JOB-012",
    "requirement_code": "TUI-03",
    "requirement_module": "tui",
    "description": "Connect ContextPanelComponent to live task tree and active resources",
    "status": "done",
    "priority": 2,
    "notes": "ContextPanelDataProvider maps IPlanManager tasks to ContextPanelData hierarchy (module/component/task sections). Wired into TuiApplication with throttled refresh. 30 unit tests + 2 integration tests."
  },
  {
    "id": "JOB-013",
    "requirement_code": "CORE-04",
    "requirement_module": "core",
    "description": "Wire DriftDetector into workflow re-entry to flag specification changes between iterations",
    "status": "done",
    "priority": 2,
    "notes": "SpecificationDriftService created to bridge ISectionCache and IDriftDetector. Wired into WorkflowOrchestrator.RunStepAsync as step 2 (after guardrails). Drift warnings rendered to user. 11 tests."
  },
  {
    "id": "JOB-014",
    "requirement_code": "CORE-05",
    "requirement_module": "core",
    "description": "Wire PhaseTransitionController human gate into orchestration loop for Requirement Gathering \u2192 Planning",
    "status": "done",
    "priority": 2,
    "notes": "Human gate already implemented in WorkflowOrchestrator: DraftSpecification step checks IsRequirementGatheringToPlannningApproved, invokes LLM, returns NeedsConfirmation for RunAsync loop to interrupt."
  },
  {
    "id": "JOB-015",
    "requirement_code": "CORE-06",
    "requirement_module": "core",
    "description": "Wire auto-transition checks for Planning \u2192 Building and Building \u2192 Complete into orchestration loop",
    "status": "done",
    "priority": 2,
    "notes": "Auto-transitions wired: Repeat step checks HasMoreComponentsAsync \u2014 fires ModuleComplete when no more components, fires Assess otherwise. Planning\u2192Building auto-transition checks via PhaseTransitionController."
  },
  {
    "id": "JOB-016",
    "requirement_code": "CORE-16",
    "requirement_module": "core",
    "description": "Wire GitWorkflowService.CommitTaskCompletion into task completion flow in orchestration loop",
    "status": "done",
    "priority": 2,
    "notes": "Wired IGitWorkflowService into ToolHandlerBinder. CommitTaskCompletionAsync called on task completion with module/component params. 4 new tests."
  },
  {
    "id": "JOB-017",
    "requirement_code": "CORE-17",
    "requirement_module": "core",
    "description": "Wire GitWorkflowService.EnsureModuleBranch into workflow start for branch-per-module",
    "status": "done",
    "priority": 2,
    "notes": "Wired IGitWorkflowService into WorkflowOrchestrator.RunAsync. EnsureModuleBranchAsync called before engine initialization. 2 new tests."
  },
  {
    "id": "JOB-018",
    "requirement_code": "CORE-11",
    "requirement_module": "core",
    "description": "Wire GuardrailPipeline.EvaluateAsync into orchestration loop for back-pressure enforcement",
    "status": "done",
    "priority": 2,
    "notes": "Already wired in WorkflowOrchestrator.RunStepAsync step 1. GuardrailPipeline.EvaluateAsync called before every LLM invocation. Block results abort the step, warn results render to user. Tested in WorkflowOrchestratorTests."
  },
  {
    "id": "JOB-019",
    "requirement_code": "STOR-06",
    "requirement_module": "storage",
    "description": "Wire AutoSaveService into orchestration loop for state persistence after workflow events",
    "status": "done",
    "priority": 2,
    "notes": "Wired IAutoSaveService into WorkflowOrchestrator. Auto-saves on step completion, task failure, user pause, phase transition, cancellation. 3 new tests."
  },
  {
    "id": "JOB-020",
    "requirement_code": "STOR-07",
    "requirement_module": "storage",
    "description": "Wire session resume flow into workflow start - offer resume or start fresh",
    "status": "done",
    "priority": 2,
    "notes": "Wired ISessionManager into WorkflowOrchestrator.RunAsync. Checks for resumable session, renders resume message, creates new session if none. 2 new tests."
  },
  {
    "id": "JOB-021",
    "requirement_code": "LLM-13",
    "requirement_module": "llm",
    "description": "Wire token metrics from CopilotLlmService through to TUI display and session state persistence",
    "status": "done",
    "priority": 2,
    "notes": "Wired ITokenTracker into WorkflowOrchestrator. RecordUsage called after each LLM invocation. SessionMetrics built from token tracker and passed to AutoSaveService. 2 new tests."
  },
  {
    "id": "JOB-022",
    "requirement_code": "OTEL-01",
    "requirement_module": "otel",
    "description": "Instrument CLI command entry point with lopen.command root span",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-023",
    "requirement_code": "OTEL-02",
    "requirement_module": "otel",
    "description": "Instrument workflow phases with lopen.workflow.phase spans",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-024",
    "requirement_code": "OTEL-03",
    "requirement_module": "otel",
    "description": "Instrument LLM SDK invocations with lopen.sdk.invocation spans including model, tokens, is_premium",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-025",
    "requirement_code": "OTEL-04",
    "requirement_module": "otel",
    "description": "Instrument LLM tool calls with lopen.tool.<tool_name> spans",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-026",
    "requirement_code": "OTEL-05",
    "requirement_module": "otel",
    "description": "Instrument oracle verification with lopen.oracle.verification spans",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-027",
    "requirement_code": "OTEL-06",
    "requirement_module": "otel",
    "description": "Instrument task execution with lopen.task.execution spans including outcome and iterations",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory calls wired into actual services. Tests verify span creation."
  },
  {
    "id": "JOB-028",
    "requirement_code": "OTEL-07",
    "requirement_module": "otel",
    "description": "Instrument back-pressure events with lopen.backpressure.event spans",
    "status": "done",
    "priority": 2,
    "notes": "SpanFactory has backpressure span support. Must be called when GuardrailPipeline fires a guardrail."
  },
  {
    "id": "JOB-029",
    "requirement_code": "OTEL-08",
    "requirement_module": "otel",
    "description": "Wire OTEL counter metrics to actual code paths (10 counters: commands, tools, SDK invocations, etc.)",
    "status": "done",
    "priority": 2,
    "notes": "LopenTelemetryDiagnostics defines 10 counters but they're never incremented from production code. Each counter must be wired to its respective code path."
  },
  {
    "id": "JOB-030",
    "requirement_code": "OTEL-09",
    "requirement_module": "otel",
    "description": "Wire OTEL histogram metrics to actual code paths (5 histograms for durations)",
    "status": "done",
    "priority": 2,
    "notes": "LopenTelemetryDiagnostics defines 5 histograms but they're never recorded from production code."
  },
  {
    "id": "JOB-031",
    "requirement_code": "CLI-17",
    "requirement_module": "cli",
    "description": "Implement --prompt flag injection into LLM context for headless mode",
    "status": "done",
    "priority": 2,
    "notes": "--prompt flag exists in CLI but the text is not injected into the LLM system prompt. Must pass prompt text to IPromptBuilder for inclusion in context."
  },
  {
    "id": "JOB-032",
    "requirement_code": "CLI-18",
    "requirement_module": "cli",
    "description": "Implement --prompt flag populating TUI input field for user review before submission",
    "status": "done",
    "priority": 2,
    "notes": "In TUI mode, --prompt should pre-populate the PromptAreaComponent input field rather than auto-submitting."
  },
  {
    "id": "JOB-033",
    "requirement_code": "CLI-19",
    "requirement_module": "cli",
    "description": "Implement headless error when no --prompt and no active session",
    "status": "done",
    "priority": 2,
    "notes": "In headless mode without --prompt and no active session, should error with guidance about providing a prompt or resuming a session."
  },
  {
    "id": "JOB-034",
    "requirement_code": "CLI-20",
    "requirement_module": "cli",
    "description": "Implement consistent exit codes: 0 success, 1 failure, 2 user intervention required",
    "status": "done",
    "priority": 2,
    "notes": "Exit codes need to be consistently applied across all commands, especially for the workflow phase commands."
  },
  {
    "id": "JOB-035",
    "requirement_code": "TUI-42",
    "requirement_module": "tui",
    "description": "Create 'lopen test tui' CLI command that launches the interactive component gallery",
    "status": "done",
    "priority": 1,
    "notes": "TestCommand with test tui subcommand. Interactive gallery with \u2191\u2193 navigation and Enter preview. --list flag for text mode. 4 CLI tests."
  },
  {
    "id": "JOB-036",
    "requirement_code": "TUI-38",
    "requirement_module": "tui",
    "description": "Wire SlashCommandRegistry to invoke corresponding CLI commands from within TUI",
    "status": "done",
    "priority": 2,
    "notes": "SlashCommandExecutor + ISlashCommandExecutor created. Wired into TuiApplication.ApplyAction (SubmitPrompt case). SlashCommandRegistry and ISlashCommandExecutor registered in DI. Unknown commands show error with valid list. 37 new tests. All 1729 tests pass."
  },
  {
    "id": "JOB-037",
    "requirement_code": "TUI-41",
    "requirement_module": "tui",
    "description": "Implement Ctrl+P pause agent execution in TUI",
    "status": "done",
    "priority": 2,
    "notes": "IPauseController + PauseController (thread-safe with SemaphoreSlim + lock). Wired into WorkflowOrchestrator pause gate (WaitIfPausedAsync before each step). TuiApplication.TogglePause calls _pauseController.Toggle(). IPauseController registered in DI. Auto-saves on pause. 14 PauseController tests + 5 orchestrator pause tests. All 1748 tests pass."
  },
  {
    "id": "JOB-038",
    "requirement_code": "TUI-06",
    "requirement_module": "tui",
    "description": "Wire LandingPageComponent to display on first TUI startup with quick commands",
    "status": "done",
    "priority": 2,
    "notes": "Added TuiModalState enum, modal overlay rendering in RenderFrame, keypress dismissal in DrainKeyboardInput, showLandingPage param for --no-welcome. 15 new tests."
  },
  {
    "id": "JOB-039",
    "requirement_code": "TUI-07",
    "requirement_module": "tui",
    "description": "Wire SessionResumeModal to display when previous active session detected",
    "status": "done",
    "priority": 2,
    "notes": "Added ISessionDetector/SessionDetector for session detection. TuiApplication shows session resume modal after landing page dismissal. Arrow keys navigate, Enter confirms, Escape dismisses. 20 new tests."
  },
  {
    "id": "JOB-040",
    "requirement_code": "TUI-04",
    "requirement_module": "tui",
    "description": "Wire ActivityPanelComponent to display scrolling workflow activity with progressive disclosure",
    "status": "done",
    "priority": 2,
    "notes": "IActivityPanelDataProvider + ActivityPanelDataProvider (ConcurrentQueue, thread-safe). Wired into TuiApplication render loop. Progressive disclosure via IsExpanded/Details. Auto-scroll on new entries. DI via AddActivityPanelDataProvider(). 24 new tests. All 1789 tests pass."
  },
  {
    "id": "JOB-041",
    "requirement_code": "TUI-05",
    "requirement_module": "tui",
    "description": "Wire PromptAreaComponent to accept multi-line input in TUI",
    "status": "done",
    "priority": 2,
    "notes": "Added Backspace key handling, context-aware hints wiring, IUserPromptQueue for orchestrator integration. 17 new tests."
  },
  {
    "id": "JOB-042",
    "requirement_code": "TUI-08",
    "requirement_module": "tui",
    "description": "Implement progressive disclosure - expand current action, collapse previous to summaries",
    "status": "done",
    "priority": 3,
    "notes": "Auto-expand latest entry with details, collapse previous non-error entries. Errors stay expanded. Up/Down arrows for entry navigation, Space/Enter to toggle expand. 13 new tests."
  },
  {
    "id": "JOB-043",
    "requirement_code": "TUI-09",
    "requirement_module": "tui",
    "description": "Implement expandable tool call outputs via click or keyboard shortcut",
    "status": "done",
    "priority": 3,
    "notes": "Added ToolCall ActivityEntryKind with \u2699 prefix. Expand/collapse indicators (\u25bc/\u25b6) for entries with details. Selection marker (>) for keyboard navigation. 8 new tests."
  },
  {
    "id": "JOB-044",
    "requirement_code": "TUI-10",
    "requirement_module": "tui",
    "description": "Wire real-time task progress updates to ContextPanelComponent",
    "status": "done",
    "priority": 3,
    "notes": "Added visual progress bar [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] to ContextPanelComponent.RenderTaskSection. Data pipeline (IPlanManager â†’ ContextPanelDataProvider â†’ 1s polling â†’ renderer) was already wired. 7 new progress bar tests. All 1871 tests pass."
  },
  {
    "id": "JOB-045",
    "requirement_code": "TUI-12",
    "requirement_module": "tui",
    "description": "Implement numbered resource access (1-9 keys) for active resources in context panel",
    "status": "done",
    "priority": 3,
    "notes": "Added ResourceViewerModalComponent (scrollable, Esc-dismissable), ResourceViewerData, ResourceItem.Content, OpenResourceViewer/HandleResourceViewerInput in TuiApplication. 13 new tests. All 1884 tests pass."
  },
  {
    "id": "JOB-046",
    "requirement_code": "TUI-13",
    "requirement_module": "tui",
    "description": "Implement inline research display with drill-into-document capability",
    "status": "done",
    "priority": 3,
    "notes": "Added Research ActivityEntryKind with ðŸ“– prefix. FullDocumentContent on ActivityEntry for drill-into. Expanded entries with full doc show '[Press Enter to view full document]' hint. ToggleExpand on expanded+full doc opens ResourceViewerModal. 7 new tests. All 1891 tests pass."
  },
  {
    "id": "JOB-047",
    "requirement_code": "TUI-14",
    "requirement_module": "tui",
    "description": "Wire PhaseTransitionComponent to display phase transition summaries in activity area",
    "status": "done",
    "priority": 3,
    "notes": "Added AddPhaseTransition to IActivityPanelDataProvider. Creates entries with Kind=PhaseTransition (â—† prefix), summary 'Phase: from â†’ to', optional section details. 6 new tests. All 1897 tests pass."
  },
  {
    "id": "JOB-048",
    "requirement_code": "TUI-15",
    "requirement_module": "tui",
    "description": "Wire DiffViewerComponent to display code diffs with syntax highlighting",
    "status": "open",
    "priority": 3,
    "notes": "DiffViewerComponent exists with syntax highlighting and line numbers. Must be displayed when workflow generates code changes."
  },
  {
    "id": "JOB-049",
    "requirement_code": "TUI-16",
    "requirement_module": "tui",
    "description": "Wire file picker with tree view navigation for file selection",
    "status": "open",
    "priority": 3,
    "notes": "File picker component exists. Must be available for selecting files during workflow."
  },
  {
    "id": "JOB-050",
    "requirement_code": "TUI-17",
    "requirement_module": "tui",
    "description": "Wire phase/step visualization (\u25cf/\u25cb) in top panel from live workflow state",
    "status": "open",
    "priority": 3,
    "notes": "TopPanelComponent renders step indicators. Must receive live WorkflowEngine state updates."
  },
  {
    "id": "JOB-051",
    "requirement_code": "TUI-18",
    "requirement_module": "tui",
    "description": "Wire ModuleSelectionModal for module selection with arrow key navigation",
    "status": "open",
    "priority": 3,
    "notes": "Selection modal components exist. Must be displayed during workflow's module selection step (CORE-24)."
  },
  {
    "id": "JOB-052",
    "requirement_code": "TUI-22",
    "requirement_module": "tui",
    "description": "Implement guided conversation UI for requirement gathering (workflow step 1)",
    "status": "open",
    "priority": 3,
    "notes": "Requirement gathering needs a guided conversation flow in the TUI where the user answers questions to shape the spec."
  },
  {
    "id": "JOB-053",
    "requirement_code": "TUI-23",
    "requirement_module": "tui",
    "description": "Wire confirmation modals with Yes/No/Always/Other options for user decisions",
    "status": "open",
    "priority": 3,
    "notes": "Confirmation modal component exists. Must be triggered by human gates and back-pressure events."
  },
  {
    "id": "JOB-054",
    "requirement_code": "TUI-25",
    "requirement_module": "tui",
    "description": "Wire task failure display - inline auto-expanded failure details in activity panel",
    "status": "open",
    "priority": 3,
    "notes": "ActivityPanelComponent supports expand/collapse. Must auto-expand failed task entries."
  },
  {
    "id": "JOB-055",
    "requirement_code": "TUI-26",
    "requirement_module": "tui",
    "description": "Wire repeated failure confirmation modal at configured threshold",
    "status": "open",
    "priority": 3,
    "notes": "Must display confirmation modal when task failure count reaches threshold. Connected to CORE-22."
  },
  {
    "id": "JOB-056",
    "requirement_code": "TUI-27",
    "requirement_module": "tui",
    "description": "Wire critical error modal with details and recovery options",
    "status": "open",
    "priority": 3,
    "notes": "Error modal component exists. Must be displayed when CORE-23 critical errors occur."
  },
  {
    "id": "JOB-057",
    "requirement_code": "TUI-28",
    "requirement_module": "tui",
    "description": "Wire SpinnerComponent for async feedback during long-running operations",
    "status": "open",
    "priority": 3,
    "notes": "SpinnerComponent has animation frames. Must be displayed during LLM invocations and other long ops."
  },
  {
    "id": "JOB-058",
    "requirement_code": "TUI-29",
    "requirement_module": "tui",
    "description": "Wire context window usage display in top panel from ContextBudgetManager",
    "status": "open",
    "priority": 3,
    "notes": "TopPanelComponent can render context usage. Must receive data from ContextBudgetManager."
  },
  {
    "id": "JOB-059",
    "requirement_code": "TUI-30",
    "requirement_module": "tui",
    "description": "Wire premium request counter (\ud83d\udd25) display in top panel from token tracker",
    "status": "open",
    "priority": 3,
    "notes": "TopPanelComponent renders premium counter. Must receive live data from ITokenTracker."
  },
  {
    "id": "JOB-060",
    "requirement_code": "TUI-31",
    "requirement_module": "tui",
    "description": "Wire real-time progress percentages in context panel",
    "status": "open",
    "priority": 3,
    "notes": "ContextPanelComponent can display progress. Must calculate and update percentages from task hierarchy state."
  },
  {
    "id": "JOB-061",
    "requirement_code": "TUI-37",
    "requirement_module": "tui",
    "description": "Implement NO_COLOR environment variable support to disable color output",
    "status": "open",
    "priority": 3,
    "notes": "ColorPalette/VisualDesign exist. Must check NO_COLOR env var and disable ANSI color codes when set."
  },
  {
    "id": "JOB-062",
    "requirement_code": "TUI-39",
    "requirement_module": "tui",
    "description": "Implement error display for unknown slash commands with valid command list",
    "status": "open",
    "priority": 3,
    "notes": "SlashCommandRegistry exists. Must display helpful error when user types an unknown slash command."
  },
  {
    "id": "JOB-063",
    "requirement_code": "TUI-40",
    "requirement_module": "tui",
    "description": "Implement queued user messages delivered as context in next SDK invocation",
    "status": "open",
    "priority": 3,
    "notes": "When user types messages during agent execution, they should be queued and included in the next LLM prompt."
  },
  {
    "id": "JOB-064",
    "requirement_code": "TUI-43",
    "requirement_module": "tui",
    "description": "Implement component gallery selection navigation for 'lopen test tui'",
    "status": "open",
    "priority": 3,
    "notes": "GalleryListComponent exists with selection marker. Need to wire it into the gallery launcher with keyboard navigation."
  },
  {
    "id": "JOB-065",
    "requirement_code": "TUI-44",
    "requirement_module": "tui",
    "description": "Ensure each gallery component renders with realistic mock/stub data",
    "status": "open",
    "priority": 3,
    "notes": "Components accept injected data. Need to provide realistic mock data for gallery preview."
  },
  {
    "id": "JOB-066",
    "requirement_code": "TUI-48",
    "requirement_module": "tui",
    "description": "Ensure gallery stub data exercises multiple visual states (empty, populated, error, loading)",
    "status": "open",
    "priority": 3,
    "notes": "Components should be previewable in multiple states to verify visual correctness."
  },
  {
    "id": "JOB-067",
    "requirement_code": "CORE-01",
    "requirement_module": "core",
    "description": "Wire ModuleScanner into orchestration loop to scan docs/requirements/ at workflow start",
    "status": "done",
    "priority": 2,
    "notes": "ModuleScanner exists and is tested. Must be invoked at workflow start to identify all module specifications."
  },
  {
    "id": "JOB-068",
    "requirement_code": "CORE-03",
    "requirement_module": "core",
    "description": "Wire IStateAssessor into orchestration loop for re-entrant step determination from codebase state",
    "status": "done",
    "priority": 2,
    "notes": "IStateAssessor exists but is not registered in DI. Must be called on workflow resume to determine current step."
  },
  {
    "id": "JOB-069",
    "requirement_code": "CORE-10",
    "requirement_module": "core",
    "description": "Wire TaskStatusGate into orchestration loop to enforce oracle verification before task completion",
    "status": "done",
    "priority": 2,
    "notes": "TaskStatusGate exists in LLM module. Must be invoked when update_task_status(complete) is called to ensure verification passed."
  },
  {
    "id": "JOB-070",
    "requirement_code": "CORE-20",
    "requirement_module": "core",
    "description": "Wire PlanManager for programmatic plan checkbox updates without LLM invocation",
    "status": "done",
    "priority": 2,
    "notes": "PlanManager exists in Storage. Must be invoked by orchestration loop to update plan.md checkboxes when tasks complete."
  },
  {
    "id": "JOB-071",
    "requirement_code": "CORE-21",
    "requirement_module": "core",
    "description": "Implement single task failure handling - display inline and trigger LLM self-correction",
    "status": "done",
    "priority": 2,
    "notes": "IFailureHandler wired into WorkflowOrchestrator. On single task failure: error rendered inline, loop continues (SelfCorrect). At threshold: interrupts (PromptUser). Registered in DI with WorkflowOptions.FailureThreshold. 7 new tests added. All 1578 tests pass."
  },
  {
    "id": "JOB-072",
    "requirement_code": "CORE-22",
    "requirement_module": "core",
    "description": "Implement repeated failure escalation - prompt user intervention at configured threshold",
    "status": "done",
    "priority": 2,
    "notes": "WorkflowOrchestrator prompts user via IOutputRenderer.PromptAsync when FailureAction.PromptUser returned. User confirms y/yes to retry (failure count reset), declines/null to interrupt. Unattended mode auto-continues. 7 new tests added."
  },
  {
    "id": "JOB-073",
    "requirement_code": "CORE-23",
    "requirement_module": "core",
    "description": "Implement critical system error handling - block execution and require user action",
    "status": "done",
    "priority": 2,
    "notes": "Critical system errors (IOException, UnauthorizedAccessException, OutOfMemoryException, SecurityException) block execution immediately. 12 orchestrator tests + 3 AC tests. StepResult.CriticalFailure, OrchestrationResult.CriticalError, IsCriticalException helper."
  },
  {
    "id": "JOB-074",
    "requirement_code": "CORE-24",
    "requirement_module": "core",
    "description": "Implement module selection UI listing modules with current state for user choice",
    "status": "done",
    "priority": 2,
    "notes": "IModuleSelectionService + ModuleSelectionService created. Lists modules with status indicators (\u25cb/\u25d0/\u25cf), progress counts, selection by number or name. Wired into PhaseCommands.ResolveModuleNameAsync as fallback. DI registered in AddLopenCore(). 17 new tests. All 1765 tests pass."
  },
  {
    "id": "JOB-075",
    "requirement_code": "OTEL-13",
    "requirement_module": "otel",
    "description": "Implement Aspire Dashboard integration - 'aspire run' starts Dashboard + Lopen with OTEL pre-configured",
    "status": "open",
    "priority": 3,
    "notes": "Need AppHost project for .NET Aspire that starts both the Aspire Dashboard and Lopen with OTEL endpoint pre-configured."
  },
  {
    "id": "JOB-076",
    "requirement_code": "OTEL-17",
    "requirement_module": "otel",
    "description": "Verify OTEL instrumentation overhead is < 5ms on CLI command startup",
    "status": "open",
    "priority": 3,
    "notes": "Need performance benchmark test to verify that OTEL instrumentation doesn't measurably degrade CLI startup time."
  },
  {
    "id": "JOB-077",
    "requirement_code": "CLI-01",
    "requirement_module": "cli",
    "description": "Wire root 'lopen' command to launch real TUI application instead of StubTuiApplication",
    "status": "done",
    "priority": 1,
    "notes": "Program.cs calls UseRealTui() after AddLopenTui(). RootCommandHandler already resolves ITuiApplication from DI and calls RunAsync(). Now gets TuiApplication."
  },
  {
    "id": "JOB-078",
    "requirement_code": "CLI-16",
    "requirement_module": "cli",
    "description": "Implement --quiet/-q flag to suppress TUI and output plain text",
    "status": "done",
    "priority": 2,
    "notes": "Already fully implemented: GlobalOptions --headless/-q/--quiet, HeadlessRenderer, StubTuiApplication, extensive test coverage."
  },
  {
    "id": "JOB-079",
    "requirement_code": "STOR-09",
    "requirement_module": "storage",
    "description": "Wire PlanManager into orchestration loop for creating plans at .lopen/modules/{module}/plan.md",
    "status": "done",
    "priority": 2,
    "notes": "IPlanManager wired into WorkflowOrchestrator. Plan content persisted after BreakIntoTasks step with append support for multi-component workflows. Graceful null fallback. Write failures logged but do not block workflow. 7 new tests. All 1,627 tests pass."
  },
  {
    "id": "JOB-080",
    "requirement_code": "STOR-20",
    "requirement_module": "storage",
    "description": "Wire research document storage at docs/requirements/{module}/RESEARCH-{topic}.md from LLM log_research tool",
    "status": "open",
    "priority": 3,
    "notes": "The log_research tool handler (JOB-003) should persist research to the file system at the specified path."
  },
  {
    "id": "JOB-081",
    "requirement_code": "LLM-02",
    "requirement_module": "llm",
    "description": "Verify fresh context window per phase - no history carried forward between workflow phases",
    "status": "open",
    "priority": 3,
    "notes": "CopilotLlmService creates a new session per invoke. Need integration test to verify no state leaks between phases."
  },
  {
    "id": "JOB-082",
    "requirement_code": "LLM-06",
    "requirement_module": "llm",
    "description": "Wire OracleVerifier tool handler to dispatch verification sub-agent and return verdicts",
    "status": "done",
    "priority": 2,
    "notes": "Wired IOracleVerifier into ToolHandlerBinder. Three verify handlers now call VerifyAsync() with evidence/criteria, record real verdicts. Graceful auto-pass fallback when oracle unavailable. DI updated. 12 new tests. All 1,192 tests pass."
  },
  {
    "id": "JOB-083",
    "requirement_code": "LLM-09",
    "requirement_module": "llm",
    "description": "Verify tool registration varies by workflow step - correct tools available per phase",
    "status": "open",
    "priority": 3,
    "notes": "DefaultToolRegistry has phase-scoped tool availability. Need test to verify only appropriate tools are exposed to the LLM per workflow step."
  },
  {
    "id": "JOB-084",
    "requirement_code": "CFG-12",
    "requirement_module": "configuration",
    "description": "Wire BudgetEnforcer into orchestration loop to respect budget settings (max tokens, max premium requests)",
    "status": "done",
    "priority": 2,
    "notes": "IBudgetEnforcer wired into WorkflowOrchestrator. Checks budget before each LLM invocation. Handles Ok/Warning/ConfirmationRequired/Exceeded. 11 tests added (10 orchestrator + 1 DI). All 1,595 tests pass."
  },
  {
    "id": "JOB-085",
    "requirement_code": "CORE-12",
    "requirement_module": "core",
    "description": "Write integration tests for ChurnDetectionGuardrail in live workflow scenario",
    "status": "open",
    "priority": 3,
    "notes": "ChurnDetectionGuardrail unit tests exist. Need integration test verifying escalation behavior when a task repeatedly fails in a workflow."
  },
  {
    "id": "JOB-086",
    "requirement_code": "CORE-13",
    "requirement_module": "core",
    "description": "Write integration tests for false completion detection (QualityGateGuardrail)",
    "status": "open",
    "priority": 3,
    "notes": "QualityGateGuardrail unit tests exist. Need integration test verifying rejection when required tool calls not made."
  },
  {
    "id": "JOB-087",
    "requirement_code": "CLI-03",
    "requirement_module": "cli",
    "description": "Write integration tests for lopen spec command executing Requirement Gathering phase",
    "status": "open",
    "priority": 3,
    "notes": "Currently only tested that command exists and returns help. Need test that verifies actual workflow execution."
  },
  {
    "id": "JOB-088",
    "requirement_code": "CLI-04",
    "requirement_module": "cli",
    "description": "Write integration tests for lopen plan command executing Planning phase",
    "status": "open",
    "priority": 3,
    "notes": "Need test that verifies plan command triggers workflow steps 2-5."
  },
  {
    "id": "JOB-089",
    "requirement_code": "CLI-05",
    "requirement_module": "cli",
    "description": "Write integration tests for lopen build command executing Building phase",
    "status": "open",
    "priority": 3,
    "notes": "Need test that verifies build command triggers workflow steps 6-7."
  },
  {
    "id": "JOB-090",
    "requirement_code": "TUI-38",
    "requirement_module": "tui",
    "description": "Write unit tests for SlashCommandRegistry command dispatch",
    "status": "open",
    "priority": 3,
    "notes": "SlashCommandRegistry has no dedicated test file. Need tests for command registration, dispatch, and unknown command handling."
  },
  {
    "id": "JOB-091",
    "requirement_code": "TUI-28",
    "requirement_module": "tui",
    "description": "Write unit tests for SpinnerComponent animation and rendering",
    "status": "open",
    "priority": 3,
    "notes": "SpinnerComponent has no dedicated test file. Need tests for frame cycling, progress display, and elapsed time."
  },
  {
    "id": "JOB-092",
    "requirement_code": "CORE-16",
    "requirement_module": "core",
    "description": "Write integration test for git auto-commit on task completion with real git repo",
    "status": "open",
    "priority": 3,
    "notes": "GitCliService/GitWorkflowService tested with mocks. Need integration test with a real temporary git repo."
  },
  {
    "id": "JOB-093",
    "requirement_code": "CORE-02",
    "requirement_module": "core",
    "description": "Write integration test for end-to-end workflow execution (spec \u2192 plan \u2192 build pipeline)",
    "status": "open",
    "priority": 3,
    "notes": "No cross-module integration tests exist for the full workflow pipeline. Critical for proving the system works end-to-end."
  },
  {
    "id": "JOB-094",
    "requirement_code": "LLM-05",
    "requirement_module": "llm",
    "description": "Write unit tests for all tool handler implementations",
    "status": "open",
    "priority": 3,
    "notes": "Once tool handlers are implemented (JOB-003), each handler needs unit tests verifying correct behavior."
  },
  {
    "id": "JOB-095",
    "requirement_code": "OTEL-10",
    "requirement_module": "otel",
    "description": "Verify structured logs carry TraceId and SpanId for correlation in OTEL export",
    "status": "open",
    "priority": 3,
    "notes": "OTEL logging is configured in DI. Need test to verify log entries include trace context for correlation."
  },
  {
    "id": "JOB-096",
    "requirement_code": "OTEL-11",
    "requirement_module": "otel",
    "description": "Verify OTLP export activates for all 3 signals when OTEL_EXPORTER_OTLP_ENDPOINT is set",
    "status": "open",
    "priority": 3,
    "notes": "DI configuration exists. Need integration test verifying traces, metrics, and logs are exported when endpoint is configured."
  },
  {
    "id": "JOB-097",
    "requirement_code": "OTEL-12",
    "requirement_module": "otel",
    "description": "Verify no telemetry leaves process when OTEL endpoint is not set",
    "status": "open",
    "priority": 3,
    "notes": "Need test verifying no export activity or errors when OTEL_EXPORTER_OTLP_ENDPOINT is not set."
  },
  {
    "id": "JOB-098",
    "requirement_code": "TUI-32",
    "requirement_module": "tui",
    "description": "Verify semantic color palette uses terminal theme colors consistently across all components",
    "status": "open",
    "priority": 3,
    "notes": "ColorPalette/VisualDesign exist. Need to verify all components use the semantic palette consistently."
  },
  {
    "id": "JOB-099",
    "requirement_code": "TUI-33",
    "requirement_module": "tui",
    "description": "Verify Unicode symbols have ASCII fallbacks for all indicators across all components",
    "status": "open",
    "priority": 3,
    "notes": "VisualDesign defines symbols. Need to verify ASCII fallbacks work when terminal doesn't support Unicode."
  },
  {
    "id": "JOB-100",
    "requirement_code": "TUI-35",
    "requirement_module": "tui",
    "description": "Verify syntax highlighting works in code blocks displayed by DiffViewerComponent and ActivityPanel",
    "status": "open",
    "priority": 3,
    "notes": "DiffViewerComponent has syntax highlighting support. Need to verify it renders correctly in gallery and live mode."
  }
]
