{
  "module": "cli",
  "description": "CLI command interface and entry point",
  "status": "in_progress",
  "components": {
    "auth_commands": {
      "status": "complete",
      "implementation": "AuthCommand (login/status/logout subcommands)",
      "tests": "AuthCommandTests (8 tests)",
      "jobs": ["JOB-079"],
      "notes": "Closure-captured IServiceProvider pattern. TextWriter injection for testability. Wired in Program.cs."
    },
    "session_commands": {
      "status": "complete",
      "implementation": "SessionCommand (list/show/resume/delete/prune subcommands)",
      "tests": "SessionCommandTests (28 tests)",
      "jobs": ["JOB-080"],
      "notes": "Follows AuthCommand pattern. show supports --format md/json/yaml. resume validates session is not complete. delete wired to new ISessionManager.DeleteSessionAsync. prune uses LopenOptions.Session.SessionRetention."
    },
    "config_commands": {
      "status": "complete",
      "implementation": "ConfigCommand (show with --json flag)",
      "tests": "ConfigCommandTests (4 tests)",
      "jobs": ["JOB-081"],
      "notes": "Uses ConfigurationDiagnostics for formatting. IConfigurationRoot now registered in DI."
    },
    "revert_command": {
      "status": "complete",
      "implementation": "RevertCommand (revert to last task-completion commit)",
      "tests": "RevertCommandTests (7 tests)",
      "jobs": ["JOB-081"],
      "notes": "Resolves last commit SHA from session state. Updates session state after revert (clears LastTaskCompletionCommitSha)."
    },
    "phase_commands": {
      "status": "complete",
      "implementation": "PhaseCommands (spec/plan/build subcommands with prerequisite validation)",
      "tests": "PhaseCommandTests (15 tests)",
      "jobs": ["JOB-078"],
      "notes": "spec starts requirement gathering. plan validates spec exists via IModuleScanner. build validates spec + plan via IModuleScanner and IPlanManager. Headless mode validates --prompt or active session (AC-19)."
    },
    "global_options": {
      "status": "complete",
      "implementation": "GlobalOptions (--headless/--quiet/-q, --prompt/-p) + ExitCodes (0/1/2)",
      "tests": "GlobalOptionsTests (6 tests) + PhaseCommandTests headless/prompt tests",
      "jobs": ["JOB-082"],
      "notes": "Recursive options available on all commands. --help/--version provided by System.CommandLine. Exit code 2 defined but behavioral use deferred to --unattended mode."
    }
  },
  "last_updated": "2026-02-16T07:00:00Z"
}
