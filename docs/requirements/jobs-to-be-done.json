[
  {
    "id": "JTBD-001",
    "requirement": "BUG-AUTH-001",
    "description": "Fix GCM Credential Store fallback - Graceful fallback when GCM not configured on Linux",
    "priority": 1,
    "status": "done",
    "notes": "Completed 2026-01-27: Enhanced IsAvailable() to detect unconfigured GCM, added test operation, improved error messages, added user warning when using file-based fallback."
  },
  {
    "id": "JTBD-002",
    "requirement": "REQ-036",
    "description": "Integrate VerificationService into Loop build phase",
    "priority": 2,
    "status": "done",
    "notes": "Completed 2026-01-27: Added IVerificationService to LoopService, VerifyAfterIteration config option (default: true), verification runs after each build iteration. 4 tests added."
  },
  {
    "id": "JTBD-003",
    "requirement": "REQ-022",
    "description": "TUI Welcome Header Integration - Display header on REPL/Chat/Loop start",
    "priority": 3,
    "status": "done",
    "notes": "Completed 2026-01-27: Added SpectreWelcomeHeaderRenderer integration to chat, loop, and repl commands with --no-header flag to suppress. 3 tests added."
  },
  {
    "id": "JTBD-004",
    "requirement": "REQ-022",
    "description": "Add --no-header and --quiet CLI flags to suppress welcome header",
    "priority": 4,
    "status": "done",
    "notes": "Completed 2026-01-27: --no-header flags added to chat, loop, and repl commands. Merged with JTBD-003."
  },
  {
    "id": "JTBD-005",
    "requirement": "REQ-016",
    "description": "System.CommandLine Error Integration - Route parser errors through IErrorRenderer",
    "priority": 5,
    "status": "done",
    "notes": "Completed 2026-01-27: Added CommandLineErrorHandler class to route System.CommandLine parse errors through SpectreErrorRenderer. Includes unknown command detection with Levenshtein distance suggestions, option error handling, and context-aware help commands. 18 tests added (809 total)."
  },
  {
    "id": "JTBD-006",
    "requirement": "REQ-020-TEST",
    "description": "Self-Testing Per-Test Logging - Add timestamps to test output",
    "priority": 6,
    "status": "done",
    "notes": "Completed 2026-01-27: Added timestamp prefix [HH:mm:ss.fff] to DisplayVerboseResult() output. Added start_time and end_time fields to JSON output. 4 tests added (813 total)."
  },
  {
    "id": "JTBD-007",
    "requirement": "REQ-020-TEST",
    "description": "Self-Testing Stack Traces - Show full stack trace in verbose mode only",
    "priority": 7,
    "status": "done",
    "notes": "Completed 2026-01-27: Modified CommandTestCase.ExecuteAsync() to conditionally include stack trace when context.Verbose is true. 4 tests added (817 total)."
  },
  {
    "id": "JTBD-008",
    "requirement": "REQ-031",
    "description": "Loop Interactive Configuration - Add REPL-style config when no flags provided",
    "priority": 8,
    "status": "done",
    "notes": "Completed 2026-01-27: Added SpectreInteractiveLoopConfigService with model selection, prompt paths, stream/allowAll/verify/autoCommit toggles. Interactive mode triggers when no flags and not in redirected input. 7 tests added (824 total)."
  },
  {
    "id": "JTBD-009",
    "requirement": "REQ-015",
    "description": "TUI Progress Bar Integration - Add progress bars for batch operations",
    "priority": 9,
    "status": "done",
    "notes": "Completed 2026-01-27: Added IProgressBarContext interface, ShowProgressBarAsync to IProgressRenderer, SpectreProgressRenderer with Spectre.Console Progress(). Integrated into TestRunner for non-verbose mode. 17 tests added (844 total)."
  },
  {
    "id": "JTBD-010",
    "requirement": "REQ-017",
    "description": "TUI Responsive Table Columns - Auto-adjust columns based on terminal width",
    "priority": 10,
    "status": "done",
    "notes": "Completed 2026-01-27: Added MinWidth, MaxWidth, Priority to TableColumn. Added ResponsiveColumns to TableConfig. SpectreDataRenderer now hides low-priority columns and truncates values on narrow terminals. 9 tests added (852 total)."
  },
  {
    "id": "JTBD-011",
    "requirement": "REQ-018",
    "description": "TUI Live Display - Non-blocking right panel updates during streaming",
    "priority": 11,
    "status": "done",
    "notes": "Completed 2026-01-27: ILiveLayoutContext interface with UpdateMain/UpdatePanel/Refresh, SpectreLiveLayoutContext using Spectre.Console Live display, MockLiveLayoutContext for testing. StartLiveLayoutAsync method on ILayoutRenderer. 13 tests added."
  },
  {
    "id": "JTBD-012",
    "requirement": "REQ-019",
    "description": "TUI Stream Prompt Position - Maintain REPL prompt after streaming response",
    "priority": 12,
    "status": "done",
    "notes": "Completed 2026-01-27: Added RenderStreamWithLiveLayoutAsync method to IStreamRenderer. Implemented in SpectreStreamRenderer with ILiveLayoutContext integration for non-blocking streaming updates. MockStreamRenderer updated with recording. 16 tests added (889 total)."
  },
  {
    "id": "JTBD-013",
    "requirement": "REQ-020-TEST",
    "description": "T-AUTH-02 Interactive Device Auth Flow Test",
    "priority": 13,
    "status": "open",
    "notes": "Manual test for full OAuth + MFA flow validation. Add guided interactive test that walks through device auth and validates credential storage."
  },
  {
    "id": "JTBD-014",
    "requirement": "REQ-001",
    "description": "Version Command - Display CLI version with --version flag",
    "priority": 14,
    "status": "done",
    "notes": "Completed: `lopen version` subcommand with --format (text/json) option."
  },
  {
    "id": "JTBD-015",
    "requirement": "REQ-002",
    "description": "Help/Commands List - --help/-h built-in + help subcommand",
    "priority": 15,
    "status": "done",
    "notes": "Completed: `lopen help` subcommand with --format option and command argument."
  },
  {
    "id": "JTBD-016",
    "requirement": "NFR-002",
    "description": "Cross-Platform build configuration - Windows, macOS, Linux targets",
    "priority": 16,
    "status": "done",
    "notes": "Completed: Single-file, self-contained publish config. Linux-x64 tested (~13MB)."
  },
  {
    "id": "JTBD-017",
    "requirement": "REQ-003",
    "description": "GitHub OAuth2 Authentication - Token storage and env var support",
    "priority": 17,
    "status": "done",
    "notes": "Completed: AuthService with env var and file-based token storage."
  },
  {
    "id": "JTBD-018",
    "requirement": "REQ-014",
    "description": "Modern TUI Patterns - Spectre.Console 0.54.0 integration",
    "priority": 18,
    "status": "done",
    "notes": "Completed: ConsoleOutput helper with success/error/warning/info/muted styles. NO_COLOR support."
  },
  {
    "id": "JTBD-019",
    "requirement": "REQ-010",
    "description": "REPL Mode - Interactive command loop",
    "priority": 19,
    "status": "done",
    "notes": "Completed: ReplService with interactive loop, exit/quit commands, Ctrl+C handling."
  },
  {
    "id": "JTBD-020",
    "requirement": "REQ-011",
    "description": "Session State Management - Maintain state between commands",
    "priority": 20,
    "status": "done",
    "notes": "Completed: SessionState model, SessionStateService with auth integration."
  },
  {
    "id": "JTBD-021",
    "requirement": "REQ-012",
    "description": "Command History - Up/Down navigation, persistent history",
    "priority": 21,
    "status": "done",
    "notes": "Completed: CommandHistory with navigation, PersistentCommandHistory, full line editing."
  },
  {
    "id": "JTBD-022",
    "requirement": "REQ-013",
    "description": "Auto-completion - Tab completion for commands",
    "priority": 22,
    "status": "done",
    "notes": "Completed: CommandAutoCompleter with context-aware completion, Tab cycling."
  },
  {
    "id": "JTBD-023",
    "requirement": "NFR-001",
    "description": "Performance optimization - Startup < 500ms",
    "priority": 23,
    "status": "done",
    "notes": "Completed: Measured ~185ms cold start, ~50ms warm start. Exceeds targets."
  },
  {
    "id": "JTBD-024",
    "requirement": "NFR-003",
    "description": "Accessibility - NO_COLOR support, exit codes, screen reader friendly",
    "priority": 24,
    "status": "done",
    "notes": "Completed: ExitCodes class, NO_COLOR support, clear symbols."
  },
  {
    "id": "JTBD-025",
    "requirement": "REQ-020",
    "description": "Copilot SDK Integration - CopilotService wrapper with streaming",
    "priority": 25,
    "status": "done",
    "notes": "Completed: GitHub.Copilot.SDK v0.1.17. ICopilotService, CopilotSession, mock implementations."
  },
  {
    "id": "JTBD-026",
    "requirement": "REQ-021",
    "description": "Chat Command - lopen chat with single-query and interactive modes",
    "priority": 26,
    "status": "done",
    "notes": "Completed: lopen chat with --model, --streaming, --resume options."
  },
  {
    "id": "JTBD-027",
    "requirement": "REQ-022",
    "description": "Streaming Responses - Real-time display via Channel pattern",
    "priority": 27,
    "status": "done",
    "notes": "Completed: CopilotSession.StreamAsync with Ctrl+C cancellation."
  },
  {
    "id": "JTBD-028",
    "requirement": "REQ-023",
    "description": "Custom Tools - AIFunctionFactory tools for file ops",
    "priority": 28,
    "status": "done",
    "notes": "Completed: LopenTools with read_file, list_directory, get_cwd, file_exists, git tools, shell, write file."
  },
  {
    "id": "JTBD-029",
    "requirement": "REQ-024",
    "description": "Session Persistence - Save/resume/list/delete sessions",
    "priority": 29,
    "status": "done",
    "notes": "Completed: lopen chat --resume, lopen sessions list/delete commands."
  },
  {
    "id": "JTBD-030",
    "requirement": "REQ-TD-001",
    "description": "Migrate from FluentAssertions to Shouldly",
    "priority": 30,
    "status": "done",
    "notes": "Completed: All tests migrated to Shouldly 4.3.0. MIT license."
  },
  {
    "id": "JTBD-031",
    "requirement": "REQ-030",
    "description": "Loop Command - lopen loop CLI with --auto and --config flags",
    "priority": 31,
    "status": "done",
    "notes": "Completed: LoopService, LoopConfigService, LoopStateManager, LoopOutputService. Tests pass."
  },
  {
    "id": "JTBD-032",
    "requirement": "REQ-031",
    "description": "Loop Configuration - LoopConfigService with user/project config merge",
    "priority": 32,
    "status": "done",
    "notes": "Completed: User/project config merge implemented with tests."
  },
  {
    "id": "JTBD-033",
    "requirement": "REQ-032",
    "description": "Plan Phase - Execute PLAN.PROMPT.md with Copilot SDK",
    "priority": 33,
    "status": "done",
    "notes": "Completed: LoopService.RunPlanPhaseAsync() loads prompt and streams to Copilot SDK."
  },
  {
    "id": "JTBD-034",
    "requirement": "REQ-033",
    "description": "Build Phase - Iterative job execution until lopen.loop.done",
    "priority": 34,
    "status": "done",
    "notes": "Completed: LoopService.RunBuildPhaseAsync() loops until done file or Ctrl+C."
  },
  {
    "id": "JTBD-035",
    "requirement": "REQ-034",
    "description": "Loop State Management - File-based state tracking",
    "priority": 35,
    "status": "done",
    "notes": "Completed: LoopStateManager tracks done file, jobs file, plan file paths."
  },
  {
    "id": "JTBD-036",
    "requirement": "REQ-035",
    "description": "Loop Output Streaming - Real-time console output with phase indicators",
    "priority": 36,
    "status": "done",
    "notes": "Completed: LoopOutputService with WritePhaseHeader, WriteIterationComplete."
  },
  {
    "id": "JTBD-037",
    "requirement": "REQ-036",
    "description": "Verification Agent - Dedicated sub-agent for quality checks (service only)",
    "priority": 37,
    "status": "done",
    "notes": "Completed: IVerificationService, VerificationService, VerificationResult, MockVerificationService. Integration pending (JTBD-002)."
  },
  {
    "id": "JTBD-038",
    "requirement": "REQ-015",
    "description": "TUI Spinners - Progress indicators for Copilot SDK calls",
    "priority": 38,
    "status": "done",
    "notes": "Completed: IProgressRenderer, SpectreProgressRenderer, MockProgressRenderer."
  },
  {
    "id": "JTBD-039",
    "requirement": "REQ-016",
    "description": "TUI Error Display - IErrorRenderer with suggestions",
    "priority": 39,
    "status": "done",
    "notes": "Completed: SpectreErrorRenderer with RenderSimpleError, RenderPanelError, RenderValidationError."
  },
  {
    "id": "JTBD-040",
    "requirement": "REQ-017",
    "description": "TUI Structured Data - Tables and trees for sessions list",
    "priority": 40,
    "status": "done",
    "notes": "Completed: IDataRenderer, SpectreDataRenderer, ITreeRenderer, SpectreTreeRenderer."
  },
  {
    "id": "JTBD-041",
    "requirement": "REQ-018",
    "description": "TUI Right-Side Panels - Split layouts for task context",
    "priority": 41,
    "status": "done",
    "notes": "Completed: ILayoutRenderer, SpectreLayoutRenderer with RenderSplitLayout, RenderTaskPanel."
  },
  {
    "id": "JTBD-042",
    "requirement": "REQ-019",
    "description": "TUI AI Streaming - Buffered paragraph rendering",
    "priority": 42,
    "status": "done",
    "notes": "Completed: IStreamRenderer, SpectreStreamRenderer with buffering and code block handling."
  },
  {
    "id": "JTBD-043",
    "requirement": "REQ-020",
    "description": "TUI Terminal Detection - TerminalCapabilities class",
    "priority": 43,
    "status": "done",
    "notes": "Completed: ITerminalCapabilities with width/height/color/unicode/interactive detection."
  },
  {
    "id": "JTBD-044",
    "requirement": "REQ-021",
    "description": "TUI Testing - Specialized interfaces and mocks",
    "priority": 44,
    "status": "done",
    "notes": "Completed: All Mock* implementations for testing. TestConsole used throughout."
  },
  {
    "id": "JTBD-045",
    "requirement": "REQ-022",
    "description": "TUI Welcome Header - Wind Runner ASCII art and session info (renderer only)",
    "priority": 45,
    "status": "paritially done",
    "notes": "Completed: IWelcomeHeaderRenderer, SpectreWelcomeHeaderRenderer. Integration pending (JTBD-003). ASCII art does not match"
  },
  {
    "id": "JTBD-046",
    "requirement": "REQ-020-TEST",
    "description": "Self-Testing Command - lopen test self harness",
    "priority": 46,
    "status": "done",
    "notes": "Completed: TestRunner, CommandTestCase, KeywordValidator, TestSuiteRegistry with CLI."
  },
  {
    "id": "JTBD-047",
    "requirement": "REQ-020-TEST",
    "description": "Self-Testing Interactive Mode - Suite/test selection UI",
    "priority": 47,
    "status": "done",
    "notes": "Completed: SpectreInteractiveTestSelector with --interactive/-i flag."
  },
  {
    "id": "JTBD-048",
    "requirement": "REQ-010",
    "description": "REPL Quoted String Parsing - CommandLineToArgvW-style",
    "priority": 48,
    "status": "done",
    "notes": "Completed: ParseArgs handles quoted strings, backslash escapes."
  },
  {
    "id": "JTBD-049",
    "requirement": "REQ-003",
    "description": "OAuth2 Device Flow - Browser-based authentication",
    "priority": 49,
    "status": "done",
    "notes": "Completed: DeviceFlowAuth with device code/polling flow."
  },
  {
    "id": "JTBD-050",
    "requirement": "REQ-003",
    "description": "Secure Token Storage - Platform-specific credential storage",
    "priority": 50,
    "status": "done",
    "notes": "Completed: SecureCredentialStore with GCM. BUG-AUTH-001 affects Linux fallback (JTBD-001)."
  },
  {
    "id": "JTBD-051",
    "requirement": "REQ-003",
    "description": "Token Refresh Handling - Automatic token refresh",
    "priority": 51,
    "status": "done",
    "notes": "Completed: TokenInfo, RefreshTokenAsync, auto-refresh with 5-min buffer."
  },
  {
    "id": "JTBD-052",
    "requirement": "REQ-011",
    "description": "Session Save/Restore - Optional REPL session persistence",
    "priority": 52,
    "status": "done",
    "notes": "Completed: ISessionStore, FileSessionStore with repl-session commands."
  },
  {
    "id": "JTBD-053",
    "requirement": "NFR-001",
    "description": "Copilot Response Time Metrics - First response tracking",
    "priority": 53,
    "status": "done",
    "notes": "Completed: ResponseMetrics, IMetricsCollector, StreamRenderer integration."
  },
  {
    "id": "JTBD-054",
    "requirement": "REQ-014",
    "description": "TUI Emoji and Symbol Support - StatusSymbol, ISymbolProvider",
    "priority": 54,
    "status": "done",
    "notes": "Completed: SymbolProvider with unicode fallback."
  },
  {
    "id": "JTBD-055",
    "requirement": "REQ-014",
    "description": "TUI Adaptive Color Depth - ColorProvider with graceful degradation",
    "priority": 55,
    "status": "done",
    "notes": "Completed: ColorProvider with TrueColor/256/16 color support."
  },
  {
    "id": "JTBD-056",
    "requirement": "REQ-TD-002",
    "description": "Update README.md Phase 4 status from Not Started to Complete",
    "priority": 56,
    "status": "done",
    "notes": "Completed 2026-01-27: README.md showed Loop Phase 4 as 'Not Started' but implementation was complete. Status indicators updated."
  },
  {
    "id": "JTBD-057",
    "requirement": "REQ-TD-003",
    "description": "Update SPECIFICATION.md checkboxes for implemented features",
    "priority": 57,
    "status": "open",
    "notes": "Many acceptance criteria are implemented but unchecked. Update loop, tui, testing SPECIFICATION.md files. See gap analysis docs."
  },
  {
    "id": "JTBD-058",
    "requirement": "REQ-030",
    "description": "Loop Interactive Prompt Text - Match spec wording exactly",
    "priority": 58,
    "status": "open",
    "notes": "Minor: Current prompt differs from spec. Optionally update to 'Do you need to add specifications, or shall we commence planning and building?'"
  },
  {
    "id": "JTBD-059",
    "requirement": "REQ-031",
    "description": "Loop Default Model Config - Update from gpt-5 to claude-opus-4.5",
    "priority": 59,
    "status": "done",
    "notes": "Completed 2026-01-27: Updated LoopConfig.Model default from gpt-5 to claude-opus-4.5 per spec. Updated affected tests."
  },
  {
    "id": "JTBD-060",
    "requirement": "REQ-031",
    "description": "Loop AllowAll Flag - Wire allowAll config to Copilot SDK session",
    "priority": 60,
    "status": "done",
    "notes": "Completed 2026-01-27: Added AllowAll property to CopilotSessionOptions. Wired LoopConfig.AllowAll through LoopService to both plan and build phase sessions. 3 tests added (855 total)."
  }
]
